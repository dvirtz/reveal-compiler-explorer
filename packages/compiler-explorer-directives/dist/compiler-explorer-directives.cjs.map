{"version":3,"file":"compiler-explorer-directives.cjs","sources":["../src/compiler-explorer-directives.js"],"sourcesContent":["'use strict';\n\nimport bent from 'bent';\nimport promiseRetry from 'promise-retry';\nimport ansi_colors from 'ansi-colors';\nimport debug from 'debug';\nconst { unstyle } = ansi_colors;\n\nconst log = debug('reveal-compiler-explorer:compiler-explorer-directives');\n\n// https://github.com/highlightjs/highlight.js/blob/master/SUPPORTED_LANGUAGES.md\nconst langAliases = {\n  'cpp': 'c++', 'hpp': 'c++', 'cc': 'c++', 'hh': 'c++', 'h++': 'c++', 'cxx': 'c++', 'hxx': 'c++',\n  'ada': 'ada',\n  'x86asm': 'assembly',\n  'h': 'c',\n  'f90': 'fortran', 'f95': 'fortran',\n  'golang': 'go',\n  'hs': 'haskell',\n  'nimrod': 'nim',\n  'ml': 'ocaml',\n  'py': 'python', 'gyp': 'python',\n  'rs': 'rust'\n};\n\nconst GODBOLT_URL = 'https://godbolt.org';\nconst get = bent(`${GODBOLT_URL}/api`, 'GET', 'json', { 'Accept': 'application/json' });\nconst post = bent(`${GODBOLT_URL}/api`, 'POST', 'json');\n\nconst langConfig = (() => {\n  let langConfig;\n  return async function () {\n    if (!langConfig) {\n      const predefined = new Map([\n        ['c++', {\n          options: '-O2 -march=haswell -Wall -Wextra -pedantic -Wno-unused-variable -Wno-unused-parameter',\n          mainRegex: /\\bmain\\(/\n        }],\n        ['c', {\n          options: '-O2 -march=haswell -Wall -Wextra -pedantic -Wno-unused-variable -Wno-unused-parameter',\n          mainRegex: /\\bmain\\(/\n        }],\n        ['d', {\n          mainRegex: /\\bmain\\(/\n        }]\n      ]);\n      log(`reading languages from ${GODBOLT_URL}`);\n      const languages = await get('/languages?fields=id,defaultCompiler');\n      langConfig = new Map(languages\n        .map(({ id, defaultCompiler }) => [id, Object.assign({ 'compiler': defaultCompiler }, predefined.get(id))]));\n      log('default language configuration is %o', langConfig);\n    }\n    return langConfig;\n  };\n})();\n\nconst defaultConfig = {\n  runMain: true,\n  useLocal: false,\n  localPort: 10240,\n  directives: []\n};\n\nconst directive = pattern => new RegExp(`^\\\\s*\\\\/\\\\/\\\\/\\\\s*${pattern}$`);\n\nconst builtinDirectives = [\n  ['compiler=(.*)', (matches, info) => matches.slice(1).forEach(match => {\n    info.compiler = match;\n  })],\n  ['options=(.*)', (matches, info) => matches.slice(1).forEach(match => info.options = match)],\n  ['options\\\\+=(.*)', (matches, info) => matches.slice(1).forEach(match => info.options += ' ' + match)],\n  ['libs=(\\\\w+:\\\\w+(?:,\\\\w+:\\\\w+)*)', (matches, info) => matches.slice(1).forEach(match => {\n    [...match.matchAll(/(\\w+):(\\w+)/g)].forEach(match => {\n      info.libs.push({\n        name: match[1],\n        ver: match[2]\n      });\n    })\n  })],\n  ['(no)?execute', (matches, info) => matches.slice(1).forEach(match => info.execute = !match)],\n  ['external', (matches, info) => matches.forEach(_ => info.forceExternal = true)],\n  ['(un)?hide', (matches, info) => matches.slice(1).forEach(match => info.hide = !match)],\n];\n\nconst parseCode = async (code, language, config) => {\n  log('parsing %o, language %s, config %o', code, language, config);\n  language = langAliases[language] || language;\n  const lg = await langConfig();\n  if (!lg.has(language)) {\n    log('language %s is not supported', language);\n    return null;\n  }\n\n  config = Object.assign({}, defaultConfig, lg.get(language), config);\n  const directives = builtinDirectives.concat(config.directives)\n    .map(([regex, action]) => [directive(regex), action]);\n  const lines = unescape(code).split('\\n');\n  const matches = (line, regex) => line.match(regex) || [];\n\n  const info = {\n    source: [],\n    displaySource: [],\n    language: language,\n    compiler: config.compiler,\n    options: config.options || '',\n    libs: config.libs || [],\n    forceExternal: false,\n    hide: false\n  };\n\n  for (const line of lines) {\n    if (line.match(directive('.*'))) {\n      directives.forEach(([regex, action]) => action(matches(line, regex), info))\n    } else {\n      if (config.runMain\n        && config.mainRegex\n        && line.match(config.mainRegex)\n        && !info.hasOwnProperty('execute')) {\n        info.execute = true;\n      }\n      info.source.push(line);\n      if (!info.hide)\n        info.displaySource.push(line);\n    }\n  }\n\n  info.baseUrl = (config.useLocal && !info.forceExternal)\n    ? `http://localhost:${config.localPort}`\n    : GODBOLT_URL;\n  info.source = info.source.join('\\n');\n  info.displaySource = info.displaySource.join('\\n');\n  delete info.hide;\n  delete info.forceExternal;\n\n  log('parse result %o', info);\n  return info;\n};\n\nconst displayUrl = (info) => {\n  let content = [\n    {\n      type: 'component',\n      componentName: 'codeEditor',\n      componentState: {\n        id: 1,\n        source: info.source,\n        options: { compileOnChange: true, colouriseAsm: true },\n        fontScale: 2.5\n      }\n    },\n    {\n      type: 'column',\n      content: [{\n        type: 'component',\n        componentName: 'compiler',\n        componentState: {\n          source: 1,\n          lang: info.language,\n          compiler: info.compiler,\n          options: info.options,\n          libs: info.libs,\n          fontScale: 3.0,\n          filters: {\n            commentOnly: true,\n            directives: true,\n            intel: true,\n            labels: true,\n            trim: true,\n            execute: info.execute\n          }\n        }\n      }, {\n        type: 'component',\n        componentName: 'output',\n        componentState: {\n          compiler: 1\n        }\n      }\n      ]\n    }\n  ];\n  let obj = {\n    version: 4,\n    content: [{ type: 'row', content: content }],\n    settings: {\n      theme: 'dark'\n    }\n  };\n\n  let ceFragment = encodeURIComponent(JSON.stringify(obj));\n\n  return `${info.baseUrl}/#${ceFragment}`;\n};\n\nclass CompileError extends Error {\n  constructor(code, message) {\n    super(message);\n    this.name = 'CompileError';\n    this.code = code;\n  }\n}\n\nconst compile = async (info, retryOptions = {}) => {\n  log('compiling %o', info);\n  const data = {\n    source: info.source,\n    options: {\n      userArguments: info.options || '',\n      filters: {\n        execute: info.execute || false\n      },\n      libraries: (info.libs || []).map(function (lib) {\n        return {\n          id: lib.name,\n          version: lib.ver\n        };\n      })\n    }\n  };\n  const response = await promiseRetry(retryOptions, async (retry) => {\n    try {\n      return await post(`/compiler/${info.compiler}/compile`, data);\n    }\n    catch (err) {\n      log('compile error %o', err);\n      if (Math.trunc(err.statusCode / 100) === 5) {\n        log('retrying');\n        retry(err);\n      }\n\n      throw err;\n    }\n  });\n\n  log('response is %o', response);\n\n  const text = (stream) => unstyle(stream.stderr.concat(stream.stdout).map(x => x.text).join('\\n'));\n\n  if (response.code === 0) {\n    if (info.execute) {\n      if (response.execResult.buildResult.code === 0) {\n        return text(response.execResult);\n      }\n\n      throw new CompileError(response.execResult.buildResult.code,\n        text(response.execResult.buildResult));\n    }\n\n    return text(response);\n  }\n\n  throw new CompileError(response.code, text(response));\n};\n\nexport { parseCode, displayUrl, compile, CompileError };\n"],"names":["ansi_colors","debug","bent","promiseRetry"],"mappings":"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"}