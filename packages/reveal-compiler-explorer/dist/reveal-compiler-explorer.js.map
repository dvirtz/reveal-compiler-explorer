{"version":3,"file":"reveal-compiler-explorer.js","sources":["../src/reveal-compiler-explorer.js"],"sourcesContent":["import { parseCode, displayUrl, compile } from 'compiler-explorer-directives';\n\nexport default {\n  id: 'compiler-explorer',\n  init: (reveal) => {\n    const highlighPlugin = reveal.getPlugin('highlight');\n    const highlightConfig = reveal.getConfig().highlight || {};\n    const highlightOnLoad = typeof highlightConfig.highlightOnLoad === 'boolean' ? highlightConfig.highlightOnLoad : true;\n\n    [].slice.call(reveal.getRevealElement().querySelectorAll('pre code')).forEach(function (block) {\n      const lang = block.classList.length > 0 ? block.classList[0].replace('language-', '') : config.language;\n      const config = reveal.getConfig().compilerExplorer;\n      const info = parseCode(block.textContent, lang, config);\n      const url = displayUrl(info);\n      block.parentNode.onclick = (evt) => {\n        if (evt.ctrlKey || evt.metaKey) {\n          window.open(url, 'ce');\n        }\n      };\n      block.textContent = info.displaySource;\n      if (highlightOnLoad) {\n        highlighPlugin.highlightBlock(block);\n      }\n    });\n  },\n  compile: compile\n};\n"],"names":["parseCode","displayUrl","compile"],"mappings":";;;AAEA,+BAAe;EACf,EAAE,EAAE,EAAE,mBAAmB;EACzB,EAAE,IAAI,EAAE,CAAC,MAAM,KAAK;EACpB,IAAI,MAAM,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;EACzD,IAAI,MAAM,eAAe,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC;EAC/D,IAAI,MAAM,eAAe,GAAG,OAAO,eAAe,CAAC,eAAe,KAAK,SAAS,GAAG,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;AAC1H;EACA,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;EACnG,MAAM,MAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC;EAC9G,MAAM,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC,gBAAgB,CAAC;EACzD,MAAM,MAAM,IAAI,GAAGA,oCAAS,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;EAC9D,MAAM,MAAM,GAAG,GAAGC,qCAAU,CAAC,IAAI,CAAC,CAAC;EACnC,MAAM,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,GAAG,KAAK;EAC1C,QAAQ,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,EAAE;EACxC,UAAU,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;EACjC,SAAS;EACT,OAAO,CAAC;EACR,MAAM,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;EAC7C,MAAM,IAAI,eAAe,EAAE;EAC3B,QAAQ,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;EAC7C,OAAO;EACP,KAAK,CAAC,CAAC;EACP,GAAG;EACH,EAAE,OAAO,EAAEC,kCAAO;EAClB,CAAC;;;;;;;;"}